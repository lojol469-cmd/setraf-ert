â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘     ğŸ‹ SETRAF - RÃ‰CAPITULATIF DOCKER COMPLET                â•‘
â•‘     Image: belikanm/kibaertanalyste                          â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… CONFIGURATION DOCKER CRÃ‰Ã‰E AVEC SUCCÃˆS !

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ FICHIERS DOCKER CRÃ‰Ã‰S (7 fichiers)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Dockerfile (1.9 KB)
   â””â”€ Image principale Python 3.10-slim
   â””â”€ Installe toutes les dÃ©pendances SETRAF
   â””â”€ Expose ports 8504, 8505, 8506

2. .dockerignore (750 B)
   â””â”€ Exclusions (node_modules, logs, __pycache__, etc.)
   â””â”€ Exclut kibalock-api et node-auth (sÃ©parÃ©s)

3. docker-compose.setraf.yml (2.0 KB)
   â””â”€ Orchestration complÃ¨te
   â””â”€ Services: setraf-app, setraf-api
   â””â”€ Volumes persistants configurÃ©s

4. docker-build.sh (3.7 KB) â­
   â””â”€ Script automatique de build
   â””â”€ CrÃ©e tags 1.0.0 et latest
   â””â”€ Affiche informations dÃ©taillÃ©es

5. docker-push.sh (4.5 KB) â­
   â””â”€ Push automatique vers Docker Hub
   â””â”€ GÃ¨re authentification
   â””â”€ Push versions multiples

6. docker-test.sh (4.6 KB) â­
   â””â”€ Test de l'image en local
   â””â”€ Health check automatique
   â””â”€ Affiche logs en temps rÃ©el

7. DOCKER_README.md (5.8 KB)
   â””â”€ Documentation complÃ¨te Docker
   â””â”€ Commandes, exemples, dÃ©pannage

8. DOCKER_DEPLOYMENT_GUIDE.txt (4.6 KB)
   â””â”€ Guide visuel de dÃ©ploiement
   â””â”€ Architecture dÃ©taillÃ©e

9. DOCKER_SETUP_GUIDE.txt (5.3 KB)
   â””â”€ Guide d'activation WSL2
   â””â”€ Workflow complet Ã©tape par Ã©tape

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ WORKFLOW COMPLET (3 Ã‰TAPES)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš ï¸  PRÃ‰REQUIS: Activer Docker WSL2 Integration

   1. Ouvrir Docker Desktop
   2. Settings â†’ Resources â†’ WSL Integration
   3. Activer "Enable integration with my default WSL distro"
   4. Apply & Restart
   5. VÃ©rifier: docker --version

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ã‰TAPE 1: BUILD L'IMAGE
   
   cd /home/belikan/KIbalione8/SETRAF
   ./docker-build.sh
   
   â±ï¸  DurÃ©e: 10-15 minutes
   ğŸ“¦ Taille: ~800 MB
   ğŸ·ï¸  Tags: 1.0.0, latest

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ã‰TAPE 2: TEST LOCAL

   ./docker-test.sh
   
   âœ“ Lance container sur port 8504
   âœ“ Health check automatique
   âœ“ Ouvre http://localhost:8504
   âœ“ Affiche logs

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ã‰TAPE 3: PUSH VERS DOCKER HUB

   docker login
   ./docker-push.sh
   
   âœ“ Push belikanm/kibaertanalyste:1.0.0
   âœ“ Push belikanm/kibaertanalyste:latest
   âœ“ Disponible sur hub.docker.com

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¦ ARCHITECTURE DE L'IMAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Base: python:3.10-slim (Debian)
Taille: ~800 MB

Contenu:
â”œâ”€â”€ ERTest.py              (Application principale)
â”œâ”€â”€ ERT.py                 (Version Kibali)
â”œâ”€â”€ api_setraf.py          (API FastAPI)
â”œâ”€â”€ auth_module.py         (Authentification)
â”œâ”€â”€ logo_belikan.png       (Logo)
â”œâ”€â”€ requirements.txt       (DÃ©pendances)
â””â”€â”€ Dossiers:
    â”œâ”€â”€ /app/logs         (Logs)
    â”œâ”€â”€ /app/data         (DonnÃ©es ERT)
    â”œâ”€â”€ /app/uploads      (Fichiers uploadÃ©s)
    â””â”€â”€ /app/exports      (PDF gÃ©nÃ©rÃ©s)

DÃ©pendances Python:
â”œâ”€â”€ streamlit >= 1.28.0    (Interface)
â”œâ”€â”€ pygimli                (Analyse ERT)
â”œâ”€â”€ fastapi >= 0.104.0     (API REST)
â”œâ”€â”€ numpy >= 1.24.0        (Calculs)
â”œâ”€â”€ pandas >= 2.0.0        (DonnÃ©es)
â”œâ”€â”€ matplotlib >= 3.7.0    (Visualisation)
â”œâ”€â”€ plotly >= 5.18.0       (Graphiques 3D)
â”œâ”€â”€ scikit-learn >= 1.3.0  (ML)
â””â”€â”€ fpdf2 >= 2.7.0         (Export PDF)

Ports exposÃ©s:
â”œâ”€â”€ 8504 â†’ ERTest.py (Streamlit)
â”œâ”€â”€ 8505 â†’ api_setraf.py (FastAPI)
â””â”€â”€ 8506 â†’ ERT.py (Kibali version)

Health Check:
â””â”€â”€ http://localhost:8504/_stcore/health

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ UTILISATION APRÃˆS DÃ‰PLOIEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Pull depuis Docker Hub:

   docker pull belikanm/kibaertanalyste:latest

Run basique:

   docker run -d --name setraf -p 8504:8504 \
     belikanm/kibaertanalyste:latest

Run avec volumes:

   docker run -d --name setraf -p 8504:8504 \
     -v $(pwd)/logs:/app/logs \
     -v $(pwd)/data:/app/data \
     -v $(pwd)/uploads:/app/uploads \
     belikanm/kibaertanalyste:latest

Run complet (tous les ports):

   docker run -d --name setraf \
     -p 8504:8504 \
     -p 8505:8505 \
     -p 8506:8506 \
     -v $(pwd)/setraf-data:/app/data \
     --restart unless-stopped \
     belikanm/kibaertanalyste:latest

AccÃ¨s:
   ğŸŒŠ ERTest: http://localhost:8504
   ğŸ”Œ API:     http://localhost:8505/api/docs
   ğŸ—ºï¸ Kibali:  http://localhost:8506

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ™ DOCKER COMPOSE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Fichier: docker-compose.setraf.yml

DÃ©marrage:
   docker-compose -f docker-compose.setraf.yml up -d

ArrÃªt:
   docker-compose -f docker-compose.setraf.yml down

Logs:
   docker-compose -f docker-compose.setraf.yml logs -f

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š COMMANDES DE GESTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Voir les images
docker images belikanm/kibaertanalyste

# DÃ©marrer
docker start setraf

# ArrÃªter
docker stop setraf

# Logs
docker logs -f setraf

# Stats
docker stats setraf

# Entrer dans le container
docker exec -it setraf bash

# Inspecter
docker inspect setraf

# Supprimer
docker rm setraf

# Nettoyer le systÃ¨me
docker system prune -a

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸŒ DÃ‰PLOIEMENT PRODUCTION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Sur un serveur distant (Ubuntu/Debian):

# 1. Installer Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# 2. Pull l'image
docker pull belikanm/kibaertanalyste:latest

# 3. CrÃ©er dossiers
mkdir -p /opt/setraf/{logs,data,uploads,exports}

# 4. Lancer
docker run -d \
  --name setraf-prod \
  -p 8504:8504 \
  -v /opt/setraf/logs:/app/logs \
  -v /opt/setraf/data:/app/data \
  -v /opt/setraf/uploads:/app/uploads \
  -v /opt/setraf/exports:/app/exports \
  --restart unless-stopped \
  belikanm/kibaertanalyste:latest

# 5. VÃ©rifier
curl http://localhost:8504/_stcore/health
docker logs setraf-prod

# 6. Nginx reverse proxy (optionnel)
# Configurer nginx pour exposer sur domaine public

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ CE QUI N'EST PAS INCLUS (VOLONTAIREMENT)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ kibalock-api/          â†’ SystÃ¨me sÃ©parÃ© (dÃ©jÃ  Docker)
âŒ node-auth/             â†’ Serveur Node.js sÃ©parÃ©
âŒ logs/                  â†’ GÃ©nÃ©rÃ© Ã  l'exÃ©cution
âŒ data/*.dat             â†’ DonnÃ©es utilisateur
âŒ __pycache__/           â†’ Cache Python
âŒ *.log                  â†’ Logs locaux

âœ… Focus: SETRAF uniquement (ERTest + ERT + API)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ‰ RÃ‰SUMÃ‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Dockerfile optimisÃ© crÃ©Ã©
âœ… Scripts d'automatisation (build, push, test)
âœ… Docker Compose configurÃ©
âœ… Documentation complÃ¨te (3 guides)
âœ… Image tagguÃ©e: belikanm/kibaertanalyste:1.0.0
âœ… Health checks configurÃ©s
âœ… Volumes persistants dÃ©finis
âœ… Multi-ports supportÃ© (8504, 8505, 8506)

ğŸš€ PRÃŠT POUR LE DÃ‰PLOIEMENT !

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ SUPPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Auteur:     Belikan M.
Email:      nyundumathryme@gmail.com
GitHub:     github.com/BelikanM/KIbalione8
Docker Hub: hub.docker.com/r/belikanm/kibaertanalyste

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Date de crÃ©ation: 14 Novembre 2025
ğŸ”– Version: 1.0.0
ğŸ·ï¸ Tags: setraf, ert, geophysics, streamlit, docker

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
